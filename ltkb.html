<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Quản Lý Sinh Viên Mật Mã</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />

    <!-- Favicon -->
    <link href="img/logoico.png" rel="icon" />

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet" />

    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/f172ccfa7a.js" crossorigin="anonymous"></script>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet" />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet" />

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet" />
</head>


<body>
    <div class="container-fluid position-relative bg-white d-flex p-0">
        <!-- Spinner Start -->
        <div id="spinner"
            class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
            <div class="spinner-border text-primary" style="width: 3rem; height: 3rem" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
        <!-- Spinner End -->

        <!-- Sidebar Start -->
        <div class="sidebar pe-4 pb-3">
            <nav class="navbar bg-light navbar-light">
                <a href="index.html" class="navbar-brand mx-3 mb-3">
                    <h3 class="text-primary navbar-brand-name">Quản Lý Sinh Viên</h3>
                </a>
                <div class="d-flex align-items-center ms-4 mb-4">
                    <div class="position-relative">
                        <img class="rounded-circle" src="img/male.png" alt="" style="width: 40px; height: 40px" />
                        <div
                            class="bg-success rounded-circle border border-2 border-white position-absolute end-0 bottom-0 p-1">
                        </div>
                    </div>
                    <div class="ms-3">
                        <h6 class="mb-0">Văn Hoàng Phúc</h6>
                        <span>Admin</span>
                    </div>
                </div>
                <div class="navbar-nav w-100">
                    <a href="index.html" class="nav-item nav-link active">
                        <i class="fa fa-tachometer-alt me-2"></i>Trang
                        Chủ</a>


                    <div class="nav-item dropdown  ">
                        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
                            <i class="fas fa-star"></i>Quản lý học viên</a>
                        <div class="dropdown-menu bg-transparent border-0">
                            <a href="qlsv/hs/index.html" class="dropdown-item">
                                <i class="fa-solid fa-circle-plus"></i>
                                &nbsp;Hồ sơ học viên</a>
                            <a href="qlsv/bc/index.html" class="dropdown-item">
                                <i class="fa-solid fa-list"></i>&nbsp;Báo cáo thống kê
                            </a>
                        </div>
                    </div>
                    <div class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown"><i
                                class="fa fa-laptop me-2"></i>Quản
                            lý đào tạo</a>
                        <div class="dropdown-menu bg-transparent border-0">
                            <a href="qldt/qld/index.html" class="dropdown-item">
                                <i class="fa-solid fa-circle-plus"></i>
                                &nbsp;Quản lý điểm</a>
                            <a href="qldt/xlhv/index.html" class="dropdown-item">
                                <i class="fa-solid fa-list"></i>&nbsp;Xử lý học vụ</a>
                            <a href="qldt/qltn/index.html" class="dropdown-item">
                                <i class="fa-solid fa-list"></i>&nbsp;Xét duyệt tốt nghiệp</a>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
        <!-- Sidebar End -->

        <!-- Content Start -->
        <div class="content">
            <!-- Navbar Start -->
            <nav class="navbar navbar-expand bg-light navbar-light sticky-top px-4 py-0">
                <a href="index.html" class="navbar-brand d-flex d-lg-none me-4">
                    <h2 class="text-primary mb-0"><img src="img/logoico.png" alt="logo"></h2>
                </a>
                <a href="#" class="sidebar-toggler flex-shrink-0">
                    <i class="fa fa-bars"></i>
                </a>
                <form class="d-none d-md-flex ms-4">
                    <input class="form-control border-0" type="search" placeholder="Search" />
                </form>
                <div class="navbar-nav align-items-center ms-auto">
                    <div class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
                            <img class="rounded-circle me-lg-2" src="img/male.png" alt=""
                                style="width: 40px; height: 40px" />
                            <span class="d-none d-lg-inline-flex">Văn Hoàng Phúc</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end bg-light border-0 rounded-0 rounded-bottom m-0">
                            <a href="#" class="dropdown-item">Settings</a>
                            <a href="#" class="dropdown-item">Đăng xuất</a>
                        </div>
                    </div>
                </div>
            </nav>
            <!-- Navbar End -->

            <!-- Section Start -->
            <div class="container-fluid pt-4 px-4">
                <div class="bg-light rounded h-50 pt-4 pb-4">
                    <div class="row g-4">
                        <h3>Lập thời khoá biểu</h3>
                    </div>
                </div>
            </div>
            <div class="container-fluid pt-4">
                <div class="bg-light rounded h-50 p-4">
                    <form action="/api/data" id="form1">
                        <div class="row">
                            <div class="col-lg-3 col-sm-3 col-xs-3">
                                <div class="form-group mb-3">
                                    <label for="affiliate" class="form-label">Khoá</label>
                                    <select class="form-select" id="affiliate" form="form-input">
                                        <option value="0">Chọn</option>
                                        <option value="h33">H33</option>
                                        <option value="h34">H34</option>
                                        <option value="h35">H35</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-3 col-sm-3 col-xs-3">
                                <div class="form-group mb-3">
                                    <label for="affiliate" class="form-label">Khoa</label>
                                    <select class="form-select" id="affiliate" form="form-input">
                                        <option value="0">Chọn</option>
                                        <option value="ATTT">An toàn thông tin</option>
                                        <option value="CNTT">Công nghệ thông tin</option>
                                        <option value="CNTT">Điện tử viễn thông</option>
                                        <option value="MM">Mật mã</option>
                                    </select>
                                </div>
                            </div>

                            <div class="col-lg-3 col-sm-3 col-xs-3">
                                <div class="form-group mb-3">
                                    <label for="affiliate" class="form-label">Ngành</label>
                                    <select class="form-select" id="affiliate" form="form-input">
                                        <option value="0">Tất cả</option>
                                        <option value="KNATM">Kỹ nghệ an toàn mạng</option>
                                        <option value="2">An toàn ứng dụng</option>
                                        <option value="2">Công nghệ phần mềm an toàn </option>
                                        <option value="3">Kỹ thuật phần mềm nhúng và di động</option>
                                        <option value="3">Hệ thống nhúng và điều khiển tự động</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-3 col-sm-3 col-xs-3">
                                <div class="form-group mb-3">
                                    <label for="affiliate" class="form-label">Học kỳ</label>
                                    <select class="form-select" id="affiliate" form="form-input">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                    </select>
                                </div>
                            </div>
                            <!-- <input type="text" value=""> -->
                        </div>
                    </form>

                    <div class="row g-4">
                        <div class="col-3 border mt-3 pt-3">
                            <h6 class="text-center">Lọc theo khoa</h6>
                            <div id="department"></div>
                        </div>
                        <div class="col-4 border mt-3 pt-3">
                            <h6 class="text-center">Chọn môn học</h6>
                            <div id="subject"></div>
                        </div>
                        <div class="col-1 border mt-3 pt-3 d-inline-flex p-2 flex-column justify-content-around">
                            <button class="btn btn-primary" onclick="handleShow1Object()">
                                <i class="fas fa-angle-right"></i>
                            </button>
                            <button class="btn btn-primary" onclick="handleShowManyObject()"><i
                                    class="fas fa-angle-double-right"></i></button>
                        </div>
                        <div class="col-4 border mt-3 pt-3">
                            <h6 class="text-center">Môn được chọn trong kỳ</h6>
                            <form action="/api/tkb" id="form2">
                                <div id="selected"></div>
                            </form>
                        </div>
                    </div>
                    <button class="btn btn-primary mt-3 " onclick="submitForms()">Thêm lịch học</button>
                </div>
            </div>
            <!-- Section End -->


            <!-- Footer Start -->
            <div class="container-fluid pt-4 px-4">
                <div class="bg-light rounded-top p-4">
                    <div class="row">
                        <div class="col-12 col-lg-4 text-center">
                            &copy; <a href="#">Site Name</a>, All Right Reserved.
                        </div>
                        <div class="col-12 col-lg-4 text-center">
                            Designed By <a href="#">Laravel Team</a>
                        </div>
                        <div class="col-12 col-lg-4 text-center">
                            <a href="#">
                                <i class="bi bi-github"></i>
                            </a>
                            <a href="#">
                                <i class="bi bi-facebook"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Footer End -->
        </div>
        <!-- Content End -->
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Template Javascript -->
    <script>
        var subArr = []
        var obj = {
            "Chọn khoa": [],
            "Toàn bộ khoa": ["Toán chuyên đề", "Toán cao cấp", "Toán rời rạc", "Lập trình căn bản", "Lập trình hướng đối tượg", "Phân tích thiết kế hệ thống", "Kiến trúc máy tính và hợp ngữ", "An toàn cơ sở dữ liệu", "An toàn mạng máy tính", "Chính sách an toàn hệ thống thông tin"],
            "Khoa Cơ bản": ["Toán chuyên đề", "Toán cao cấp", "Toán rời rạc",],
            "Khoa Công nghệ thông tin": ["Lập trình căn bản", "Lập trình hướng đối tượg", "Phân tích thiết kế hệ thống", "Kiến trúc máy tính và hợp ngữ"],
            "Khoa An toàn thông tin": ["An toàn cơ sở dữ liệu", "An toàn mạng máy tính", "Chính sách an toàn hệ thống thông tin"]
        }
        var departmentSel = document.getElementById("department");
        var subjectSel = document.getElementById("subject");
        var selectedSel = document.getElementById("selected");
        window.onload = function () {

            for (var x in obj) {
                const node = document.createElement("button");
                const br = document.createElement("br")
                const textNode = document.createTextNode(x)
                node.appendChild(textNode);
                departmentSel.appendChild(node);
                departmentSel.appendChild(br)
                node.classList.add("btn", "mb-3");
                node.onclick = function () {
                    document.querySelectorAll('#department .btn-primary').forEach(n => n.classList.remove('btn-primary'))
                    node.classList.add("btn", "btn-primary", "mb-3");
                    document.querySelectorAll("#subject .btn").forEach(item => {
                        subjectSel.removeChild(item)
                    })
                    subjectSel.querySelectorAll("br").forEach(item => {
                        subjectSel.removeChild(item)
                    })
                    obj[node.textContent].forEach(item => {
                        const childNode = document.createElement("button");
                        const childTextNode = document.createTextNode(item)
                        const br = document.createElement("br");
                        childNode.appendChild(childTextNode);
                        subjectSel.appendChild(childNode);
                        subjectSel.appendChild(br)
                        childNode.classList.add("btn", "mb-3");
                        childNode.onclick = function () {
                            document.querySelectorAll('#subject .btn-primary').forEach(n => n.classList.remove('btn-primary'))
                            childNode.classList.add("btn", "btn-primary", "mb-3");
                        }
                    })
                }
            }
        }
        function getSubject() {
            document.querySelectorAll("#subject .btn-primary").forEach(item => {
                subArr.push(item.innerHTML)
            })
        }
        function getAllSubject() {
            document.querySelectorAll("#subject .btn").forEach(item => {
                subArr.push(item.innerHTML)
            })
        }
        function showSubject() {
            const uniqueSub = new Set(subArr);
            const backToSubArray = [...uniqueSub]
            document.querySelectorAll("#selected .row").forEach(item => selectedSel.removeChild(item))
            for (var sub in backToSubArray) {
                selectedSel.innerHTML += ' <div class="row mb-1"><div class="col-lg-10 col-sm-10">'
                    + '<input value="' + backToSubArray[sub] + '" style="width:100%" disabled/></div>'
                    + '<div class="col-lg-2 col-sm-2"><button class="btn btn-primary" onclick="deleteObj(this)">'
                    + '<i class="fa-solid fa-xmark"></i></button>' + '</div></div>'
            }
        }
        function handleShow1Object() {
            getSubject()
            showSubject()
        }
        function handleShowManyObject() {
            getAllSubject()
            showSubject()
        }
        function submitForms() {
            document.getElementById("form1").submit();
            document.getElementById("form2").submit();
        }
        function deleteObj(obj) {
            subArr.splice(subArr.indexOf(obj.parentNode.parentNode.querySelector("input").value), 1)
            obj.parentNode.parentNode.remove()
        }
    </script>
    <script src="js/main.js"></script>

</body>

</html>